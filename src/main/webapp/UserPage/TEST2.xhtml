<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">



    <style type="text/css">
        .value {
            font-weight: bold;
        }
    </style>
    <h:head>
        <title>BookARoom</title>
    </h:head>
    <h:form id="form">
        <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true" />
        <h:commandButton value="Go Back to Main Menu" action="/UserPage/UserMainPage.xhtml?faces-redirect=true"/>
        <h:commandButton value="Go Back to see the Rooms" action="/UserPage/SeeRoomsUser.xhtml?faces-redirect=true"/>

        <h:panelGrid columns="1" cellpadding="5">
            
            <p:outputLabel for="range" value="Range Selection:" />
            <p:datePicker id="range" selectionMode="range" value="#{roomBean.range}" readonlyInput="true" showIcon="true" mindate="#{roomBean.today}"/>
<!--            <h:outputText value="test:"/>
            <h:outputText value="#{roomBean.range}"/>
            <h:outputText value="test:"/>
            <h:outputText value="#{roomBean.datesBetween}"/>
            <h:outputText value="roomEmpty:"/>
            <h:outputText value="#{roomBean.result}"/>
            <h:outputText value="dateschecking:"/>
            <h:outputText value="#{roomBean.result2}"/>
            <h:outputText value="datesBooked:"/>
            <h:outputText value="#{roomBean.result3}"/>
            <h:outputText value="datesBooked:"/>
            <h:outputText value="#{roomBean.bookedDates}"/>-->
            <h:outputText value="You are booking:"/>
            <h:outputText value="#{roomBean.roomName}"/>
            <h:outputText value="total price:"/>
            <h:outputText value="#{roomBean.totalPrice}"/>
            
        </h:panelGrid>
       
        <p:commandButton value="Submit the dates" update="msgs" action="#{roomBean.finish}" icon="pi pi-check" />
    
        <p:dialog modal="true" resizable="false" header="You have booked #{roomBean.roomName}" widgetVar="dlg" showEffect="fold">
            <p:panelGrid id="display" columns="2" columnClasses="label,value,label,value">
                
                <h:outputText value="Dates" />
                <ui:repeat var="date" value="#{roomBean.range}" varStatus="status" size="#{roomBean.range.size()}">
                    #{status.first ? '' : '-'}
                    <h:outputText value="#{date}">
                        <f:convertDateTime pattern="MM/dd/yyyy" type="localDate"/>
                    </h:outputText>
                </ui:repeat>
                <h:outputText value="Total Price:" />
                <h:outputText value="#{roomBean.totalPrice}">
                </h:outputText>
                <p:commandButton value="See the rooms booked" action="/UserPage/SeeBooking.xhtml?faces-redirect=true" icon="pi pi-check" />
 
            </p:panelGrid>
        </p:dialog>
    </h:form>
</html>
